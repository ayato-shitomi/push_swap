# Push_swap

## æ¦‚è¦
ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯Cã§æ•°å­—ã®ã‚½ãƒ¼ãƒˆã‚’è¡Œã„ã¾ã™ã€‚
2ã¤ã®é ˜åŸŸï¼ˆ`stack_a`ã¨`stack_b`ï¼‰ã‚’ç”¨æ„ã—ã¦å…¥åŠ›ã•ã‚ŒãŸæ•°å­—ã‚’ï¼’ã¤ã®é ˜åŸŸã¸å…¥ã‚ŒãŸã‚Šå‡ºã—ãŸã‚Šã—ãªãŒã‚‰ã€ã‚½ãƒ¼ãƒˆã—ã¾ã™ã€‚


## é–‹ç™ºç’°å¢ƒã¨å®Ÿè¡Œ

### ç’°å¢ƒ
```
ubuntu@ubuntuv_10.0.2.15~ via ğŸ˜ˆï¸ 2GiB/23GiB | 0B/1GiB 
 â””â”€>ğŸ˜€ï¸ ~    uname -a && gcc --version 

Linux ubuntuv 5.13.0-52-generic #59~20.04.1-Ubuntu SMP Thu Jun 16 21:21:28 UTC 2022 x86_64 x86_64 x86_64 GNU/Linux
gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0

Copyright (C) 2019 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
```

### å®Ÿè¡Œæ–¹æ³•

```bash
> make
> ./push_swap <ã‚½ãƒ¼ãƒˆã—ãŸã„æ•°å­—>
```

### å…¥åŠ›ã¨å‡ºåŠ›ï¼ˆå®Ÿè¡Œä¾‹ï¼‰

å®Ÿè¡Œä¾‹ã‹ã‚‰ã€ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã®ã‹ã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ï¼

å…¥åŠ›ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å¼•æ•°ã«æ•´æ•°ã‚’ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

```
ubuntu@ubuntuv_10.0.2.15~/42Tokyo/Lv2/push_swap_intra via ğŸ˜ˆï¸ 2GiB/23GiB | 0B/1GiB 
 â””â”€>ğŸ˜€ï¸ ~  ./push_swap 8 7 3 4 1
pb
rra
sa
ra
pa
ra
```

å‡ºåŠ›ã«ã¯ã“ã®ã‚ˆã†ãªæ„å‘³ãŒã‚ã‚Šã¾ã™ã€‚

|å‘½ä»¤|æ„å‘³|æ“ä½œ|
|----|----|----|
|sa|swap a|`stack_a`ã®æœ€åˆã®ï¼’ã¤ã®è¦ç´ ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã€‚|
|sb|swap b|`stack_b`ã®æœ€åˆã®ï¼’ã¤ã®è¦ç´ ã‚’å…¥ã‚Œæ›¿ãˆã‚‹ã€‚|
|ss|sa and sb|`sa`ã¨`sb`ã‚’åŒæ™‚ã«ã™ã‚‹ã€‚|
|pa|push a|`stack_b`ã®æœ€åˆã®è¦ç´ ã‚’å–ã£ã¦ã€`stack_a`ã®æœ€åˆã«å…¥ã‚Œã‚‹|
|pb|push b|`stack_a`ã®æœ€åˆã®è¦ç´ ã‚’å–ã£ã¦ã€`stack_b`ã®æœ€åˆã«å…¥ã‚Œã‚‹|
|ra|rotate a|ï¼‘åº¦ã«`stack_a`ã®æœ€åˆã®è¦ç´ ã‚’æœ€å¾Œã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚|
|rb|rotate b|ï¼‘åº¦ã«`stack_b`ã®æœ€åˆã®è¦ç´ ã‚’æœ€å¾Œã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚|
|rr|ra and rb|`ra`ã¨`rb`ã‚’åŒæ™‚ã«ã™ã‚‹ã€‚|
|rra|reverse rotate a|ï¼‘åº¦ã«`stack_a`ã®æœ€å¾Œã®è¦ç´ ã‚’æœ€åˆã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚|
|rrb|reverse rotate b|ï¼‘åº¦ã«`stack_b`ã®æœ€å¾Œã®è¦ç´ ã‚’æœ€åˆã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã™ã‚‹ã€‚|
|rrr|rra and rrb|`rra`ã¨`rrb`ã‚’åŒæ™‚ã«ã™ã‚‹ã€‚|

å…ˆç¨‹ã®ä¾‹ã§ã‚¹ã‚¿ãƒƒã‚¯ã®å†…éƒ¨ãŒã©ã®ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã‹å¯è¦–åŒ–ã—ã¦è¿½ã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

`æœ€åˆ`ï¼šå¼•æ•°ã¯ä¸€åº¦`stack_a`ã«å…¨ã¦å…¥ã‚Šã¾ã™ã€‚
```
stack_a	:	8 7 3 4 1
stack_b	:	
```
`pb`ï¼š`stack_a`ã®æœ€åˆã®è¦ç´ ï¼ˆ`8`ï¼‰ã‚’`stack_b`ã®æœ€åˆã«å…¥ã‚Œã¾ã—ãŸã€‚
```
stack_a	:	7 3 4 1
stack_b	:	8
```
`rra`ï¼š`stack_a`ã®ä¸€ç•ªå¾Œã‚ã®è¦ç´ ï¼ˆ`1`ï¼‰ã‚’å‰ã«ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã—ã¾ã—ãŸã€‚
```
stack_a	:	1 7 3 4
stack_b	:	8
```
`sa`ï¼š`stack_a`ã®æœ€åˆã®ï¼’ã¤ã®è¦ç´ ï¼ˆ`1`ã¨`7`)ã®é †ç•ªã‚’å…¥ã‚Œæ›¿ãˆã¾ã—ãŸã€‚
```
stack_a	:	7 1 3 4
stack_b	:	8
```
`ra`ï¼š`stack_a`ã®æœ€åˆã®è¦ç´ ï¼ˆ`7`ï¼‰ã‚’ä¸€ç•ªå¾Œã‚ã«æŒã£ã¦ã„ãã¾ã—ãŸã€‚
```
stack_a	:	1 3 4 7
stack_b	:	8
```
`pa`ï¼š`stack_b`ã®æœ€åˆã®è¦ç´ ï¼ˆ`8`ï¼‰ã‚’`stack_a`ã®ä¸€ç•ªå‰ã«æŒã£ã¦ã„ãã¾ã—ãŸã€‚
```
stack_a	:	8 1 3 4 7
stack_b	:	
```
`ra`ï¼š`stack_a`ã®æœ€åˆã®è¦ç´ ï¼ˆ`8`ï¼‰ã‚’ä¸€ç•ªå¾Œã‚ã«æŒã£ã¦ã„ãã¾ã—ãŸã€‚
```
stack_a	:	1 3 4 7 8
stack_b	:	
```
ã“ã“ã§ã‚½ãƒ¼ãƒˆãŒã§ãã¦ã„ã‚‹ã®ã§ã€å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

## ä»•æ§˜ã¨ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹

> å¼•æ•°ã«æŒ‡å®šã—ãŸæ•°å­—ã®å€‹æ•°ãŒæœªæº€ï¼‘ã®å ´åˆã«ã¯`Error\n`ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚

## æŠ€è¡“çš„è§£èª¬

### ãƒ•ã‚¡ã‚¤ãƒ«éšå±¤

ãƒ•ã‚¡ã‚¤ãƒ«éšå±¤ã¯ä»¥ä¸‹ã®ã¨ãŠã‚Šã§ã™ã€‚

```
./push_swap
|
|--Makefile
|--README.md
|
|--includes
|  |--push_swap.h
|
|--srcs
|  |--42Tokyo.code-workspace
|  |--add_state.c
|  |--align_stacks.c
|  |--bruteforce.c
|  |--bruteforce_pick_check.c
|  |--check_ac.c
|  |--free_something.c
|  |--ft_bzero.c
|  |--ft_calloc.c
|  |--ft_itoa.c
|  |--ft_memset.c
|  |--ft_putstr_fd.c
|  |--ft_strdup.c
|  |--ft_strlen.c
|  |--ft_strncmp.c
|  |--instructions.c
|  |--instructions_utils.c
|  |--less_mvt.c
|  |--main.c
|  |--movement.c
|  |--new_empty_state.c
|  |--pushswap_utils.c
|  |--resolve.c
|  |--resolve_utils.c
|  |--rotate.c
|  |--second_resolve.c
|  |--second_resolve_utils.c
|  |--stack.c
|  |--stacks_utils.c
|  |--stack_utils.c
|  |--utils.c
```

### ãƒ˜ãƒ«ãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³

ä»¥ä¸‹ã®ãƒ˜ãƒ«ãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚
```
./push_swap h
./push_swap help
./push_swap -h
./push_swap -help
```
å¼•æ•°ãŒ1ã¤ã‹ã¤ã€`h`ã‚‚ã—ãã¯`-h`ã§å§‹ã¾ã‚‹å ´åˆã«ã¯ãƒ˜ãƒ«ãƒ—ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```
Error
 ________  ___  ___  ________  ___  ___  ________  ___       __   ________  ________   
|\   __  \|\  \|\  \|\   ____\|\  \|\  \|\   ____\|\  \     |\  \|\   __  \|\   __  \  
\ \  \|\  \ \  \\\  \ \  \___|\ \  \\\  \ \  \___|\ \  \    \ \  \ \  \|\  \ \  \|\  \ 
 \ \   ____\ \  \\\  \ \_____  \ \   __  \ \_____  \ \  \  __\ \  \ \   __  \ \   ____\
  \ \  \___|\ \  \\\  \|____|\  \ \  \ \  \|____|\  \ \  \|\__\_\  \ \  \ \  \ \  \___|
   \ \__\    \ \_______\____\_\  \ \__\ \__\____\_\  \ \____________\ \__\ \__\ \__\   
    \|__|     \|_______|\_________\|__|\|__|\_________\|____________|\|__|\|__|\|__|   
                       \|_________|        \|_________|                                
Usage:
        ./push_swap <numbers which you want to sort>
```

### ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«é–¢ã—ã¦

ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è‡ªä½“ã¯ã‚ã¾ã‚Šè³¢ãã‚ã‚Šã¾ã›ã‚“ã€‚

> ã‚µã‚¤ã‚ºãŒï¼•ä»¥ä¸‹ã¯ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹å½¢å¼ã§ã‚½ãƒ¼ãƒˆã—ã¾ã™ã€‚

> ã‚µã‚¤ã‚ºï¼•ãŒä»¥ä¸Šã®å ´åˆã«é–¢ã—ã¦ã¯ã€æœ€åˆã‚’å‹•ã‹ã›ã°ã„ã„ã‹æœ€å¾Œã‚’å‹•ã‹ã›ã°ã„ã„ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
ãã®ä¸Šã§`stack_a`ã®æœ€åˆã®ï¼’ã¤ã®è¦ç´ ã®å¤§å°æ¯”ã¹ã¦`stack_b`ã«å…¥ã‚Œã‚Œã‚‹ã¹ãã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚ãã®å¾Œã€`stack_b`ã‹ã‚‰`stack_a`ã¸æˆ»ã—ãŸéš›ã«ã‚½ãƒ¼ãƒˆã§ãã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤å®šã€‚ã“ã®ä¸€é€£ã®æµã‚Œã‚’ç¹°ã‚Šè¿”ã—ã¾ã™ã€‚

ä¸€éƒ¨ã‚½ãƒ¼ãƒˆã§ããªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã£ãŸã®ã§ã€ãã“ã‚’æœ€å¾Œã®`print_some`ã¨ã„ã†é–¢æ•°ã§å¼·åˆ¶çš„ã«å‡ºåŠ›ã—ã¾ã™ã€‚

5ä»¥ä¸Š100ä»¥ä¸‹ã®ä¸€éƒ¨ãŒãã‚Œã§ã‚‚ã‚½ãƒ¼ãƒˆã§ããªã‹ã£ãŸã®ã§ã€ãã“ã¯ãƒãƒ–ãƒ«ã‚½ãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚
ãƒãƒ–ãƒ«ã‚½ãƒ¼ãƒˆã¯ä»»æ„ã®æ•°ã‚’ã‚¹ãƒ¯ãƒƒãƒ—ã™ã‚‹ã®ã§ã€å‘½ä»¤ã‚’ä½¿ç”¨ã—ã¦ã§ããªã„ã¨æ€ã„ãŒã¡ã§ã™ãŒã€ãƒãƒ–ãƒ«ã‚½ãƒ¼ãƒˆã‚’ä½¿ç”¨å¯èƒ½ãªå‘½ä»¤ã«ç½®ãæ›ãˆã‚‹ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
```
pb + rb	* ä»»æ„ã®ã‚¹ãƒ¯ãƒƒãƒ—ã™ã‚‹å ´æ‰€ã¾ã§ã®æ•°å­—ã®æ•°
sa
pb + rb	* ä»»æ„ã®å ´æ‰€ä»¥é™ã®æ•°
pa		* stack_bã®ã‚µã‚¤ã‚ºåˆ†
```

### ä½¿ç”¨é–¢æ•°

ä½¿ç”¨å¯èƒ½ãªé–¢æ•°ã¯ä»¥ä¸‹ã®ã¿ã§ã™ã€‚
> read, write, malloc, free, exit

### Makefile

Makeã‚³ãƒãƒ³ãƒ‰ã«ã¯ä»¥ä¸‹ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã¾ã™ã€‚

```
make		é€šå¸¸ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
make clean	å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
make fclean	å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤ï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒç„¡ã„ãŸã‚ï¼‰
make re		å†ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
make test	ç°¡æ˜“çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å®Ÿè¡Œ
```

ã„ãšã‚Œã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ–¹å¼ã‚’æ¡ç”¨ã—ã¦ã‚‚ã€`-g3 -fsanitize=address -fsanitize=leak`ãŒå‹•ä½œã—ã¾ã™ã€‚
ãƒ¡ãƒ¢ãƒªãƒ¼ãƒªãƒ¼ã‚¯ç­‰ãŒã‚ã‚‹å ´åˆã«ã¯å¿…ãšã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚
